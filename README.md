# Custom Overlay (1.4)


### Dev dependencies

To build and run this project locally you will need have the following tools installed:

1. Download Node.js from [https://nodejs.org/en/](https://nodejs.org/en/) (LTS) or install it using [homebrew](https://brew.sh/): `$ brew install node`
2. Install [Bower](https://bower.io/): `$ npm install -g bower`
3. Install [Grunt](https://gruntjs.com/): `$ npm install -g grunt-cli`
4. Install all development dependencies: `$ npm install`


### Front dependencies

This project depends on the following Bower modules:

- angular
- angular-i18n
- angular-animate
- angular-cookies
- angular-translate
- angular-sanitize
- angular-uuid
- angular-scroll
- angularjs-slider

To install them, just run: `$ bower install`


### Running the project

Once both dev and front dependencies have been installed, run `$ grunt` to launch a local web server listening on port `9999`: [http://localhost:9999/overlay.html](http://localhost:9999/overlay.html)

This process also watches for changes in `/src`, so the server is reloaded automagically every time it detects a change in the sources.

Note: This port can be changed in `Gruntfile.js`


### Generating a build

A deployment-ready build can be generated by running `$ grunt package`

This build (`/dist`) contains:

1. `/<API_KEY>`: this is the code to be deployed, it contains all JS and CSS resources (both minified and unminified), images and test HTML files.
2. `<API_KEY>.zip`: ZIP file that contains all the stuff in `/<API_KEY>`, for those CI servers that need a single artifact to be deployed


### Project deployment

The Overlay project includes `bower` and `grunt-cli` as dev dependencies so **it only depends on Git and Node** for deployments. The general deployment process is:

##### Build

1. Source code checkout
2. `npm install`
3. `node_modules/bower/bin/bower install`
4. `node_modules/grunt-cli/bin/grunt package`

##### Deployment

1. The files to be deployed are contained in the `/dist` directory
2. The deployment path will look like `<BASE_URL>/find/<API_KEY>/...`
